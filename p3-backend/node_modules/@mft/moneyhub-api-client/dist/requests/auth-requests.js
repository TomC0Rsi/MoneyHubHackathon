"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ({ config, request, }) => {
    const { identityServiceUrl } = config;
    const authRequestEndpoint = identityServiceUrl + "/auth-requests";
    return {
        createAuthRequest: async ({ redirectUri, userId, scope, connectionId, payment, standingOrder, recurringPayment, reversePayment, categorisationType, benefitsCheck, counterpartiesCheck, permissions, expirationDateTime, transactionsFromDateTime, sync, }) => request(authRequestEndpoint, {
            method: "POST",
            cc: {
                scope: "auth_requests:write",
            },
            body: {
                redirectUri,
                userId,
                scope,
                connectionId,
                payment,
                standingOrder,
                recurringPayment,
                reversePayment,
                categorisationType,
                benefitsCheck,
                counterpartiesCheck,
                permissions,
                expirationDateTime,
                transactionFromDateTime: transactionsFromDateTime,
                sync,
            },
        }),
        completeAuthRequest: async ({ id, authParams }) => request(`${authRequestEndpoint}/${id}`, {
            method: "PATCH",
            cc: {
                scope: "auth_requests:write",
            },
            body: {
                authParams,
            },
        }),
        getAllAuthRequests: async (params) => request(authRequestEndpoint, {
            searchParams: params,
            cc: {
                scope: "auth_requests:read",
            },
        }),
        getAuthRequest: async ({ id }) => request(`${authRequestEndpoint}/${id}`, {
            cc: {
                scope: "auth_requests:read",
            },
        }),
    };
};
//# sourceMappingURL=auth-requests.js.map